<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Be My Valentine ‚ù§Ô∏è</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Cute font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet" />

  <!-- Share preview (optional) -->
  <meta property="og:title" content="Be My Valentine ‚ù§Ô∏è" />
  <meta property="og:description" content="I made something just for you." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://yuvraj-singh-solanki.github.io/Valentine-/" />
  <meta property="og:image" content="https://yuvraj-singh-solanki.github.io/Valentine-/valentine-cover.jpg" />
  <meta name="twitter:card" content="summary_large_image" />

  <style>
    :root{
      --bg1:#ff758c;
      --bg2:#ff7eb3;
      --bg3:#ffc3a0;
      --bg4:#ffafbd;
      --primary:#ff4b6e;
      --shadow:0 10px 25px rgba(0,0,0,.18);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Poppins, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:#222;
      overflow:hidden;
      background:linear-gradient(120deg,var(--bg1),var(--bg2),var(--bg3),var(--bg4));
      background-size:300% 300%;
      animation:bgMove 15s ease infinite;
    }
    @keyframes bgMove{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }

    .background-hearts{
      position:fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden;
    }
    .bg-heart{
      position:absolute; color:rgba(255,255,255,.55);
      font-size:12px; animation:floatUp linear forwards;
      filter:drop-shadow(0 2px 6px rgba(0,0,0,.15));
    }
    @keyframes floatUp{
      from{transform:translateY(0) scale(.9); opacity:.7}
      to{transform:translateY(-115vh) scale(1.2); opacity:0}
    }

    .wrap{
      position:relative; z-index:1;
      min-height:100%;
      display:flex; align-items:center; justify-content:center;
      padding:24px;
    }
    .card{
      position:relative;
      width:min(92vw,720px);
      background:rgba(255,255,255,.35);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius:24px;
      box-shadow:var(--shadow);
      padding:32px 28px 40px;
      text-align:center;
      border:1px solid rgba(255,255,255,.55);
      /* allow NO button to escape if needed (but we move it to fixed anyway) */
      overflow:visible;
    }
    .ribbon{
      position:absolute; inset:auto -40px -40px auto;
      transform:rotate(-12deg);
      font-weight:800; font-size:92px; color:rgba(255,255,255,.25);
      pointer-events:none; user-select:none;
    }
    .title{
      margin:0 0 8px 0; font-size:28px; line-height:1.25; color:#c9164c;
      text-shadow:0 1px 0 rgba(255,255,255,.6);
    }
    .type{
      display:inline-block; border-right:3px solid #c9164c;
      white-space:nowrap; overflow:hidden;
      will-change:width;
    }

    /* Buttons row ‚Äî keep both buttons centered initially */
    .btns{
      position:relative;
      margin-top:16px;
      display:flex;
      gap:14px;
      justify-content:center;
      align-items:center;
      flex-wrap:wrap;
    }

    button{
      font-family:inherit; font-weight:600;
      padding:12px 26px; font-size:18px;
      border:none; border-radius:28px; cursor:pointer;
      transition:transform .15s ease, box-shadow .15s ease, background .2s ease;
      user-select:none;
    }
    #yes{
      background:var(--primary); color:#fff; box-shadow:0 6px 18px rgba(255,75,110,.45);
    }
    #yes:hover{ transform:translateY(-2px) scale(1.05) }
    #yes:active{ transform:translateY(0) scale(.98) }

    /* --- Moving NO button (full-screen evasive) --- */
    #no{
      background:#e6e6e6; color:#333;
      /* We will switch to position:fixed in JS at the exact on-screen location */
      position:static;
      left:auto; top:auto;
      transform:none;
      box-shadow:0 6px 14px rgba(0,0,0,.15);
      z-index:4;
      touch-action:none;          /* improves evasion on touch */
      will-change: left, top, transform;
    }
    #no:hover{ transform:translateY(-2px) }
    #no:active{ transform:translateY(0) scale(.98) }

    .sparkle{
      position:absolute; width:10px; height:10px; border-radius:50%;
      background:#fff; pointer-events:none; opacity:0;
      animation:spark .8s ease forwards;
      filter:drop-shadow(0 0 8px rgba(0,0,0,.9));
    }
    @keyframes spark{
      0%{opacity:1; transform:translate(var(--sx), var(--sy)) scale(0)}
      90%{opacity:1}
      100%{opacity:0; transform:translate(calc(var(--sx)*2), calc(var(--sy)*2)) scale(1)}
    }

    .finale{
      position:fixed; inset:0; display:none; place-items:center;
      text-align:center; color:#fff; z-index:5; overflow:hidden;
      background:radial-gradient(ellipse at center, rgba(0,0,0,.15), rgba(0,0,0,.35)),
                 linear-gradient(135deg,#ff758c,#ff7eb3 55%, #ffafbd);
      animation:bgMove 16s ease infinite;
    }
    .finale.show{ display:grid; }
    .finale h1{
      font-size:clamp(28px, 6vw, 56px);
      margin:0 16px; line-height:1.15; text-shadow:0 6px 22px rgba(0,0,0,.2);
      animation:popIn .7s cubic-bezier(.2,.8,.2,1) forwards;
      opacity:0; transform:translateY(12px) scale(.96);
    }
    @keyframes popIn{ to{opacity:1; transform:translateY(0) scale(1)} }
    .finale p{ display:none; }

    /* Confetti / rain ABOVE the overlay */
    .confetti, .rain-heart{ z-index:6; }

    .confetti{
      position:fixed; top:50%; left:50%;
      font-size:14px; pointer-events:none;
      transform:translate(-50%,-50%);
      animation:burst var(--dur) ease-out forwards;
      filter:drop-shadow(0 2px 8px rgba(0,0,0,.18));
    }
    @keyframes burst{
      from{ opacity:1; transform:translate(-50%,-50%) translate(0,0) scale(0.6) rotate(0deg) }
      to{ opacity:0; transform:translate(-50%,-50%) translate(var(--tx),var(--ty)) scale(1.4) rotate(var(--rot)) }
    }

    .rain-heart{
      position:fixed; top:-10vh;
      font-size:clamp(18px, 4vw, 34px);
      animation:rain var(--fall) linear forwards;
      filter:drop-shadow(0 2px 10px rgba(0,0,0,.2));
      pointer-events:none;
    }
    @keyframes rain{
      from{transform:translateY(0) rotate(0deg); opacity:1}
      to{transform:translateY(120vh) rotate(360deg); opacity:0.9}
    }

    @media (max-width:520px){
      .btns{ height:auto }
    }
  </style>
</head>
<body>
  <div class="background-hearts" id="bg"></div>

  <main class="wrap">
    <section class="card" aria-live="polite">
      <div class="ribbon">‚ù§Ô∏è</div>

      <h1 class="title">
        <span id="type" class="type" aria-label="Will you be my Valentine?">‚Äé</span>
      </h1>

      <div class="btns">
        <button id="yes" aria-label="Yes">Yes üíñ</button>
        <button id="no" aria-label="No" type="button">No üòú</button>
      </div>
    </section>
  </main>

  <!-- Finale -->
  <section class="finale" id="finale" role="dialog" aria-modal="true" aria-label="Celebration">
    <div>
      <h1>üíñ You are my Valentine now üíñ<br>üíñ Forever &amp; Always üíñ</h1>
    </div>
  </section>

  <script>
    // Elements
    const noBtn = document.getElementById('no');
    const yesBtn = document.getElementById('yes');
    const typeEl = document.getElementById('type');
    const bg = document.getElementById('bg');
    const finale = document.getElementById('finale');

    // ------- Typewriter -------
    const text = `Will you be my Valentine?`;
    let i = 0;
    const typeInterval = setInterval(()=>{
      typeEl.textContent = text.slice(0, ++i);
      if (i >= text.length){
        clearInterval(typeInterval);
        typeEl.style.borderRight = '0';
      }
    }, 55);

    // ------- Subtle background hearts -------
    function spawnBgHeart(){
      const h = document.createElement('div');
      h.className = 'bg-heart';
      h.textContent = Math.random() < .75 ? 'üíñ' : (Math.random()<.5 ? '‚ù§Ô∏è' : 'üíò');
      const size = 10 + Math.random()*26;
      const left = Math.random()*100;
      const dur = 6 + Math.random()*8;
      h.style.left = left + 'vw';
      h.style.bottom = '-8vh';
      h.style.fontSize = size + 'px';
      h.style.animationDuration = dur + 's';
      bg.appendChild(h);
      setTimeout(()=> h.remove(), dur*1000 + 200);
    }
    setInterval(spawnBgHeart, 2200);
    for(let k=0;k<12;k++) setTimeout(spawnBgHeart, k*150);

    // ------- Yes button sparkle -------
    yesBtn.addEventListener('mousemove', (e)=>{
      const rect = yesBtn.getBoundingClientRect();
      const sparkle = document.createElement('span');
      sparkle.className = 'sparkle';
      const angle = Math.random()*Math.PI*2;
      const radius = 16 + Math.random()*16;
      sparkle.style.setProperty('--sx', (Math.cos(angle)*radius)+'px');
      sparkle.style.setProperty('--sy', (Math.sin(angle)*radius)+'px');
      sparkle.style.left = (e.clientX - rect.left - 5) + 'px';
      sparkle.style.top = (e.clientY - rect.top - 5) + 'px';
      yesBtn.appendChild(sparkle);
      setTimeout(()=>sparkle.remove(), 900);
    });

    // ------- Finale effects (above overlay) -------
    function heartsBurst(cx, cy, n=120){
      for(let i=0;i<n;i++){
        const s = document.createElement('div');
        s.className = 'confetti';
        s.textContent = Math.random()<.5 ? 'üíñ':'üíò';
        const angle = Math.random()*Math.PI*2;
        const dist = 80 + Math.random()*180;
        s.style.left = cx + 'px';
        s.style.top  = cy + 'px';
        s.style.setProperty('--tx', (Math.cos(angle)*dist) + 'px');
        s.style.setProperty('--ty', (Math.sin(angle)*dist) + 'px');
        s.style.setProperty('--rot', (Math.random()*720 - 360) + 'deg');
        s.style.setProperty('--dur', (0.6 + Math.random()*0.8) + 's');
        document.body.appendChild(s);
        setTimeout(()=>s.remove(), 1800);
      }
    }
    function heartsRain(count=28){
      for(let i=0;i<count;i++){
        const h = document.createElement('div');
        h.className = 'rain-heart';
        h.textContent = ['üíñ','‚ù§Ô∏è','üíï','üíò'][i%4];
        h.style.left = (Math.random()*100)+'vw';
        h.style.setProperty('--fall', (4 + Math.random()*5) + 's');
        document.body.appendChild(h);
        setTimeout(()=>h.remove(), 9000);
      }
    }

    function yesClicked(e){
      finale.classList.add('show');
      const cx = e?.clientX ?? window.innerWidth/2;
      const cy = e?.clientY ?? window.innerHeight/2;
      heartsBurst(cx, cy, 130);
      heartsRain(34);
    }
    yesBtn.addEventListener('click', yesClicked);
    yesBtn.addEventListener('keyup', (e)=>{ if(e.key==='Enter' || e.key===' ') yesClicked(e); });

    // -------------------- MOVING "NO" BUTTON --------------------
    const SAFE_DISTANCE = 140;  // how close the cursor can get before NO runs
    const MARGIN = 8;           // viewport margin to keep NO visible

    function clamp(v, min, max){ return Math.min(Math.max(v, min), max); }
    function bounds(){
      return {
        maxX: window.innerWidth  - noBtn.offsetWidth  - MARGIN,
        maxY: window.innerHeight - noBtn.offsetHeight - MARGIN
      };
    }

    // Start with NO button in its normal position, then switch to fixed
    function initNoButtonToFixed(){
      const r = noBtn.getBoundingClientRect();
      // Freeze current visual size so layout changes don‚Äôt shift it
      noBtn.style.width = r.width + 'px';
      noBtn.style.height = r.height + 'px';
      // Move to fixed at the same spot
      noBtn.style.position = 'fixed';
      noBtn.style.left = r.left + 'px';
      noBtn.style.top  = r.top  + 'px';
      noBtn.style.transform = 'none';
      noBtn.style.zIndex = 4;
    }

    // Evade on mouse move if pointer gets close
    function evadePointer(e){
      const rect = noBtn.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top  + rect.height/2;
      const dx = cx - e.clientX;
      const dy = cy - e.clientY;
      const dist = Math.hypot(dx, dy);

      if (dist < SAFE_DISTANCE){
        const nx = dx / (dist || 1);
        const ny = dy / (dist || 1);
        // Move away by the amount we're ‚Äúinside‚Äù the safe radius + a bit
        const push = (SAFE_DISTANCE - dist) + 12;
        const jitterX = (Math.random()*14 - 7);
        const jitterY = (Math.random()*14 - 7);

        let newLeft = rect.left + nx * push + jitterX;
        let newTop  = rect.top  + ny * push + jitterY;

        const {maxX, maxY} = bounds();
        newLeft = clamp(newLeft, MARGIN, maxX);
        newTop  = clamp(newTop,  MARGIN, maxY);

        noBtn.style.left = newLeft + 'px';
        noBtn.style.top  = newTop + 'px';
      }
    }

    // Teleport to a random spot (far from provided point if any)
    function teleportAway(px = window.innerWidth/2, py = window.innerHeight/2){
      const {maxX, maxY} = bounds();
      let left = Math.random() * maxX;
      let top  = Math.random() * maxY;

      const w = noBtn.offsetWidth;
      const h = noBtn.offsetHeight;

      // Make sure we don't land too close to the pointer
      let tries = 0;
      while (Math.hypot((left + w/2) - px, (top + h/2) - py) < SAFE_DISTANCE && tries++ < 30){
        left = Math.random() * maxX;
        top  = Math.random() * maxY;
      }

      noBtn.style.left = left + 'px';
      noBtn.style.top  = top  + 'px';
    }

    // Init once everything has laid out (fonts loaded etc.)
    window.addEventListener('load', initNoButtonToFixed);

    // Pointer & touch interactions
    window.addEventListener('mousemove', evadePointer, {passive:true});
    noBtn.addEventListener('pointerenter', (e)=> teleportAway(e.clientX, e.clientY));
    window.addEventListener('touchstart', (e)=>{
      const t = e.touches[0];
      teleportAway(t.clientX, t.clientY);
    }, {passive:true});

    // Playful tiny hop when clicked (if they ever manage!)
    noBtn.addEventListener('click', ()=>{
      noBtn.animate(
        [
          { transform: 'translateY(0)' },
          { transform: 'translateY(-10px)' },
          { transform: 'translateY(0)' }
        ],
        { duration: 220, iterations: 1, easing: 'ease-out' }
      );
    });

    // Keep NO within screen after resize/rotation
    window.addEventListener('resize', ()=>{
      const rect = noBtn.getBoundingClientRect();
      const {maxX, maxY} = bounds();
      noBtn.style.left = clamp(rect.left, MARGIN, maxX) + 'px';
      noBtn.style.top  = clamp(rect.top,  MARGIN, maxY) + 'px';
    });

    // More bursts on overlay click
    finale.addEventListener('click', (e)=> heartsBurst(e.clientX, e.clientY, 90));

    // Cursor heart trail
    let lastTrail = 0;
    window.addEventListener('mousemove', (e)=>{
      const now = performance.now();
      if(now - lastTrail < 90) return;
      lastTrail = now;
      const s = document.createElement('div');
      s.className = 'confetti';
      s.textContent = 'üíó';
      s.style.left = e.clientX + 'px';
      s.style.top  = e.clientY + 'px';
      s.style.setProperty('--tx', (Math.random()*40-20)+'px');
      s.style.setProperty('--ty', (-40 - Math.random()*30)+'px');
      s.style.setProperty('--rot', (Math.random()*120-60)+'deg');
      s.style.setProperty('--dur', '.7s');
      document.body.appendChild(s);
      setTimeout(()=>s.remove(), 900);
    }, {passive:true});
  </script>
</body>
</html>
